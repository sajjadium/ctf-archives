The flag is somewhere in the server's shared files, but how can we log in to it? All we have are a couple of files from someone who seems to be called Sam(?), could they be of any use?

Port 445 may be blocked by some ISPs. If that doesn't work, try port 21562 instead. Depending on the tools you are using, you may need to do some iptables redirection to get them to accept the new port.
